
<!DOCTYPE html>

<html data-a11y-animated-images="system" data-a11y-link-underlines="true" data-color-mode="auto" data-dark-theme="dark" data-light-theme="light" lang="en">
<head>
<meta charset="utf-8"/>
<link href="https://github.githubassets.com" rel="dns-prefetch"/>
<link href="https://avatars.githubusercontent.com" rel="dns-prefetch"/>
<link href="https://github-cloud.s3.amazonaws.com" rel="dns-prefetch"/>
<link href="https://user-images.githubusercontent.com/" rel="dns-prefetch"/>
<link crossorigin="" href="https://github.githubassets.com" rel="preconnect"/>
<link href="https://avatars.githubusercontent.com" rel="preconnect"/>
<link crossorigin="anonymous" href="https://github.githubassets.com/assets/light-74231a1f3bbb.css" media="all" rel="stylesheet"><link crossorigin="anonymous" href="https://github.githubassets.com/assets/dark-8a995f0bacd4.css" media="all" rel="stylesheet"><link crossorigin="anonymous" data-color-theme="dark_dimmed" data-href="https://github.githubassets.com/assets/dark_dimmed-f37fb7684b1f.css" media="all" rel="stylesheet"><link crossorigin="anonymous" data-color-theme="dark_high_contrast" data-href="https://github.githubassets.com/assets/dark_high_contrast-9ac301c3ebe5.css" media="all" rel="stylesheet"><link crossorigin="anonymous" data-color-theme="dark_colorblind" data-href="https://github.githubassets.com/assets/dark_colorblind-cd826e8636dc.css" media="all" rel="stylesheet"><link crossorigin="anonymous" data-color-theme="light_colorblind" data-href="https://github.githubassets.com/assets/light_colorblind-f91b0f603451.css" media="all" rel="stylesheet"><link crossorigin="anonymous" data-color-theme="light_high_contrast" data-href="https://github.githubassets.com/assets/light_high_contrast-83beb16e0ecf.css" media="all" rel="stylesheet"/><link crossorigin="anonymous" data-color-theme="light_tritanopia" data-href="https://github.githubassets.com/assets/light_tritanopia-6e122dab64fc.css" media="all" rel="stylesheet"/><link crossorigin="anonymous" data-color-theme="dark_tritanopia" data-href="https://github.githubassets.com/assets/dark_tritanopia-18119e682df0.css" media="all" rel="stylesheet"/>
<link crossorigin="anonymous" href="https://github.githubassets.com/assets/primer-primitives-225433424a87.css" media="all" rel="stylesheet"/>
<link crossorigin="anonymous" href="https://github.githubassets.com/assets/primer-aaa714e5674d.css" media="all" rel="stylesheet"/>
<link crossorigin="anonymous" href="https://github.githubassets.com/assets/global-7d4d2344e7ab.css" media="all" rel="stylesheet"/>
<link crossorigin="anonymous" href="https://github.githubassets.com/assets/github-43ae85d4871b.css" media="all" rel="stylesheet"/>
<link crossorigin="anonymous" href="https://github.githubassets.com/assets/repository-4fce88777fa8.css" media="all" rel="stylesheet"/>
<link crossorigin="anonymous" href="https://github.githubassets.com/assets/code-0210be90f4d3.css" media="all" rel="stylesheet"/>
<script id="client-env" type="application/json">{"locale":"en","featureFlags":["a11y_quote_reply_fix","copilot_immersive_issue_preview","copilot_new_references_ui","copilot_chat_repo_custom_instructions_preview","copilot_no_floating_button","copilot_topics_as_references","copilot_read_shared_conversation","copilot_duplicate_thread","copilot_buffered_streaming","dotcom_chat_client_side_skills","experimentation_azure_variant_endpoint","failbot_handle_non_errors","fgpat_form_ui_updates","geojson_azure_maps","ghost_pilot_confidence_truncation_25","ghost_pilot_confidence_truncation_40","github_models_o3_mini_streaming","hovercard_accessibility","insert_before_patch","issues_react_remove_placeholders","issues_react_blur_item_picker_on_close","marketing_pages_search_explore_provider","primer_react_css_modules_ga","react_data_router_pull_requests","remove_child_patch","sample_network_conn_type","swp_enterprise_contact_form","site_proxima_australia_update","viewscreen_sandbox","issues_react_create_milestone","issues_react_cache_fix_workaround","lifecycle_label_name_updates","copilot_task_oriented_assistive_prompts","issues_react_assignee_warning","issue_types_prevent_private_type_creation","turbo_app_id_restore"]}</script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/wp-runtime-7e63cc235734.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_oddbird_popover-polyfill_dist_popover_js-9da652f58479.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_github_arianotify-polyfill_ariaNotify-polyfill_js-node_modules_github_mi-3abb8f-46b9f4874d95.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/ui_packages_failbot_failbot_ts-75968cfb5298.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/environment-f04cb2a9fc8c.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_primer_behaviors_dist_esm_index_mjs-0dbb79f97f8f.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_github_selector-observer_dist_index_esm_js-f690fd9ae3d5.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_github_relative-time-element_dist_index_js-62d275b7ddd9.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_github_text-expander-element_dist_index_js-78748950cb0c.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_github_auto-complete-element_dist_index_js-node_modules_github_catalyst_-8e9f78-a90ac05d2469.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_github_filter-input-element_dist_index_js-node_modules_github_remote-inp-b5f1d7-a1760ffda83d.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_github_markdown-toolbar-element_dist_index_js-ceef33f593fa.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_github_file-attachment-element_dist_index_js-node_modules_primer_view-co-c44a69-8c52cf4cd0d3.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/github-elements-394f8eb34f19.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/element-registry-0bebfa1427c4.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_githu-2906d7-2a07a295af40.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_lit-html_lit-html_js-be8cb88f481b.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_morphdom_dist_morphdom-e-7c534c-a4a1922eb55f.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js-a03ee12d659a.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_github_remote-form_dist_index_js-node_modules_delegated-events_dist_inde-893f9f-b6294cf703b7.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_color-convert_index_js-e3180fe3bcb3.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_github_quote-selection_dist_index_js-node_modules_github_session-resume_-947061-e7a6c4a19f98.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/ui_packages_updatable-content_updatable-content_ts-2a55124d5c52.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/app_assets_modules_github_behaviors_task-list_ts-app_assets_modules_github_sso_ts-ui_packages-900dde-768abe60b1f8.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/app_assets_modules_github_sticky-scroll-into-view_ts-3e000c5d31a9.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/app_assets_modules_github_behaviors_ajax-error_ts-app_assets_modules_github_behaviors_include-87a4ae-8be71414579a.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/app_assets_modules_github_behaviors_commenting_edit_ts-app_assets_modules_github_behaviors_ht-83c235-e429cff6ceb1.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/behaviors-7ebb6421bf22.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_delegated-events_dist_index_js-node_modules_github_catalyst_lib_index_js-f6223d90c7ba.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/notifications-global-01e85cd1be94.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_github_catalyst_lib_inde-dbbea9-26cce2010167.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/code-menu-1c0aedc134b1.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/primer-react-e05a7c4c5398.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/react-core-6a3ef8158713.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/react-lib-f1bca44e0926.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/octicons-react-cf2f2ab8dab4.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_emotion_is-prop-valid_dist_emotion-is-prop-valid_esm_js-node_modules_emo-62da9f-2df2f32ec596.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_stacktrace-parser_dist_s-e7dcdd-9a233856b02c.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_oddbird_popover-polyfill_dist_popover-fn_js-55fea94174bf.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_dompurify_dist_purify_es_mjs-dd1d3ea6a436.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_lodash-es__Stack_js-node_modules_lodash-es__Uint8Array_js-node_modules_l-4faaa6-4a736fde5c2f.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_lodash-es__baseIsEqual_js-8929eb9718d5.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_react-intersection-observer_react-intersection-observer_modern_mjs-node_-b27033-ba82cef135e3.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/vendors-node_modules_focus-visible_dist_focus-visible_js-node_modules_fzy_js_index_js-node_mo-f2fece-29a0ceccb1f1.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/ui_packages_aria-live_aria-live_ts-ui_packages_promise-with-resolvers-polyfill_promise-with-r-17c672-34345cb18aac.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/ui_packages_paths_index_ts-e019c54eb886.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/ui_packages_ref-selector_RefSelector_tsx-7496afc3784d.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/ui_packages_commit-attribution_index_ts-ui_packages_commit-checks-status_index_ts-ui_packages-7094d4-15017f02e61c.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/ui_packages_diffs_diff-parts_ts-b05d9274ce63.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/ui_packages_code-view-shared_hooks_shortcuts_ts-ui_packages_code-view-shared_utilities_styles-0dc246-f8753c5db08d.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/ui_packages_app-uuid_app-uuid_ts-ui_packages_document-metadata_document-metadata_ts-ui_packag-4d8de9-4af9d1b9ce52.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/ui_packages_code-view-shared_hooks_use-canonical-object_ts-ui_packages_code-view-shared_hooks-a83ec0-5ee2b562b57f.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/app_assets_modules_github_blob-anchor_ts-ui_packages_code-nav_code-nav_ts-ui_packages_filter--8253c1-91468a3354f9.js" type="application/javascript"></script>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/react-code-view-0ef2da2cc150.js" type="application/javascript"></script>
<link crossorigin="anonymous" href="https://github.githubassets.com/assets/primer-react.e0c9f0687c56358ed85e.module.css" media="all" rel="stylesheet"/>
<link crossorigin="anonymous" href="https://github.githubassets.com/assets/react-code-view.a0633e3d36c876a6eaa1.module.css" media="all" rel="stylesheet"/>
<script crossorigin="anonymous" defer="defer" src="https://github.githubassets.com/assets/notifications-subscriptions-menu-58a0c58bfee4.js" type="application/javascript"></script>
<link crossorigin="anonymous" href="https://github.githubassets.com/assets/primer-react.e0c9f0687c56358ed85e.module.css" media="all" rel="stylesheet"/>
<link crossorigin="anonymous" href="https://github.githubassets.com/assets/notifications-subscriptions-menu.1bcff9205c241e99cff2.module.css" media="all" rel="stylesheet"/>
<title>bigbrotherju.github.io/_posts/2023-08-13-number-systems.md at main · BigBrotherJu/bigbrotherju.github.io · GitHub</title>
<meta content="/:user_id/:repository/blob/*name(/*path)" data-turbo-transient="" name="route-pattern"/>
<meta content="blob" data-turbo-transient="" name="route-controller"/>
<meta content="show" data-turbo-transient="" name="route-action"/>
<meta content="f3abb0cc802f3d7b95fc8762b94bdcb13bf39634c40c357301c4aa1d67a256fb" name="current-catalog-service-hash"/>
<meta content="B860:217D61:795F86:9C1F63:67DFA4B8" data-pjax-transient="true" name="request-id"><meta content="8c090766e2f39a33cc8b72832be09516c212dc9456a9f19e1f5a749e6b747683" data-pjax-transient="true" name="html-safe-nonce"><meta content="eyJyZWZlcnJlciI6IiIsInJlcXVlc3RfaWQiOiJCODYwOjIxN0Q2MTo3OTVGODY6OUMxRjYzOjY3REZBNEI4IiwidmlzaXRvcl9pZCI6IjIwMDQ1MDkyOTUxNzQ5ODQ4ODgiLCJyZWdpb25fZWRnZSI6ImlhZCIsInJlZ2lvbl9yZW5kZXIiOiJpYWQifQ==" data-pjax-transient="true" name="visitor-payload"><meta content="58fc65a795d6cee92ea951878f14278a40bf2435abed79859e5e9d730b1027d3" data-pjax-transient="true" name="visitor-hmac">
<meta content="repository:952181622" data-turbo-transient="" name="hovercard-subject-tag"/>
<meta content="repository,source-code,file-tree,copilot" data-turbo-transient="true" name="github-keyboard-shortcuts">
<meta data-turbo-transient="" name="selected-link" value="repo_source"/>
<link href="https://github.githubassets.com/" rel="assets"/>
<meta content="Apib7-x98H0j5cPqHWwSMm6dNU4GmODRoqxLiDzdx9I" name="google-site-verification"/>
<meta content="https://collector.github.com/github/collect" name="octolytics-url">
<meta content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-turbo-transient="true" name="analytics-location">
<meta content="" name="user-login"/>
<meta content="width=device-width" name="viewport"/>
<meta content="Contribute to BigBrotherJu/bigbrotherju.github.io development by creating an account on GitHub." name="description"/>
<link href="/opensearch.xml" rel="search" title="GitHub" type="application/opensearchdescription+xml"/>
<link href="https://github.com/fluidicon.png" rel="fluid-icon" title="GitHub"/>
<meta content="1401488693436528" property="fb:app_id"/>
<meta content="app-id=1477376905, app-argument=https://github.com/BigBrotherJu/bigbrotherju.github.io/blob/main/_posts/2023-08-13-number-systems.md" name="apple-itunes-app">
<meta content="https://opengraph.githubassets.com/3fdf4fa59e283496d2447983101902eec93e5b34286efcf52914a2dfc2607ae4/BigBrotherJu/bigbrotherju.github.io" name="twitter:image"><meta content="@github" name="twitter:site"><meta content="summary_large_image" name="twitter:card"><meta content="bigbrotherju.github.io/_posts/2023-08-13-number-systems.md at main · BigBrotherJu/bigbrotherju.github.io" name="twitter:title"><meta content="Contribute to BigBrotherJu/bigbrotherju.github.io development by creating an account on GitHub." name="twitter:description"/>
<meta content="https://opengraph.githubassets.com/3fdf4fa59e283496d2447983101902eec93e5b34286efcf52914a2dfc2607ae4/BigBrotherJu/bigbrotherju.github.io" property="og:image"/><meta content="Contribute to BigBrotherJu/bigbrotherju.github.io development by creating an account on GitHub." property="og:image:alt"/><meta content="1200" property="og:image:width"/><meta content="600" property="og:image:height"/><meta content="GitHub" property="og:site_name"/><meta content="object" property="og:type"/><meta content="bigbrotherju.github.io/_posts/2023-08-13-number-systems.md at main · BigBrotherJu/bigbrotherju.github.io" property="og:title"/><meta content="https://github.com/BigBrotherJu/bigbrotherju.github.io/blob/main/_posts/2023-08-13-number-systems.md" property="og:url"/><meta content="Contribute to BigBrotherJu/bigbrotherju.github.io development by creating an account on GitHub." property="og:description"/>
<meta content="github.com" name="hostname"/>
<meta content="github.com" name="expected-hostname"/>
<meta content="052a71b7c02165fbf2715bdbfbab05187e4b16e53a581d8594996a90b2e7e0b4" data-turbo-track="reload" http-equiv="x-pjax-version"/>
<meta content="77190eb53eb47fc30bd2fcc17a7eefa2dfd8505869fee9299ba911be3a40a9eb" data-turbo-track="reload" http-equiv="x-pjax-csp-version"/>
<meta content="3c046d4b918199cbb4d255cca63226853d0617dbae6529663229394aa9b0742a" data-turbo-track="reload" http-equiv="x-pjax-css-version"/>
<meta content="1529793745024e41638e0c5e8b0d9e42797bb9de3789d89787088aa632e6de83" data-turbo-track="reload" http-equiv="x-pjax-js-version"/>
<meta content="no-preview" data-turbo-transient="" name="turbo-cache-control"/>
<meta content="no-cache" data-turbo-transient="" name="turbo-cache-control"/>
<meta data-hydrostats="publish"/>
<meta content="github.com/BigBrotherJu/bigbrotherju.github.io git https://github.com/BigBrotherJu/bigbrotherju.github.io.git" name="go-import"/>
<meta content="47515692" name="octolytics-dimension-user_id"><meta content="BigBrotherJu" name="octolytics-dimension-user_login"><meta content="952181622" name="octolytics-dimension-repository_id"><meta content="BigBrotherJu/bigbrotherju.github.io" name="octolytics-dimension-repository_nwo"><meta content="true" name="octolytics-dimension-repository_public"><meta content="false" name="octolytics-dimension-repository_is_fork"><meta content="952181622" name="octolytics-dimension-repository_network_root_id"><meta content="BigBrotherJu/bigbrotherju.github.io" name="octolytics-dimension-repository_network_root_nwo">
<meta content="logged-out env-production page-responsive" name="turbo-body-classes"/>
<meta content="https://api.github.com/_private/browser/stats" name="browser-stats-url"/>
<meta content="https://api.github.com/_private/browser/errors" name="browser-errors-url"/>
<meta content="c452c9dda983c67755073a578000a324ee049ecd" name="release"/>
<link color="#000000" href="https://github.githubassets.com/assets/pinned-octocat-093da3e6fa40.svg" rel="mask-icon"/>
<link class="js-site-favicon" href="https://github.githubassets.com/favicons/favicon.png" rel="alternate icon" type="image/png"/>
<link class="js-site-favicon" data-base-href="https://github.githubassets.com/favicons/favicon" href="https://github.githubassets.com/favicons/favicon.svg" rel="icon" type="image/svg+xml"/>
<meta content="#1e2327" name="theme-color"/>
<meta content="light dark" name="color-scheme">
<link crossorigin="use-credentials" href="/manifest.json" rel="manifest"/>
</meta></meta></meta></meta></meta></meta></meta></meta></meta></meta></meta></meta></meta></meta></meta></meta></meta></meta></meta></meta></meta></link></link></link></link></link></link></head>
<body class="logged-out env-production page-responsive" style="word-wrap: break-word;"><div class="Box-sc-g0xbh4-0 eoaCFS js-snippet-clipboard-copy-unpositioned undefined" data-hpc="true"><article class="markdown-body entry-content container-lg" itemprop="text"><markdown-accessiblity-table><table>
<thead>
<tr>
<th>title</th>
<th>date</th>
<th>categories</th>
<th>tags</th>
</tr>
</thead>
<tbody>
<tr>
<td><div dir="auto">Number Systems</div></td>
<td><div dir="auto">2023-08-13 14:30:00 +0800</div></td>
<td><div dir="auto"><table>
<tbody>
<tr>
<td><div dir="auto">Computer Systems</div></td>
</tr>
</tbody>
</table>
</div></td>
<td><div dir="auto"><table>
<tbody>
<tr>
<td><div dir="auto">computer systems</div></td>
</tr>
</tbody>
</table>
</div></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">计算机硬件使用 0 和 1 来存储信息。当我们需要存储的信息为数字（Number）时，我们可以使用<strong>不同</strong>的编码方式（Encoding）将<strong>相同</strong>的一个数字存储为不同的 01 排列，以满足不同的需求。同样，在面对计算机硬件中已经存在的 01 排列时，我们可以使用不同的解码方式（Decoding）将<strong>相同</strong>的 01 排列理解为不同的数字。</p>
<p dir="auto">本文将对常见的整数编码解码方式（又称表示方法，Representation）进行梳理，并重点关注它们是如何从需求中诞生的。</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto" tabindex="-1">Bits/Context</h2><a aria-label="Permalink: Bits/Context" class="anchor" href="#bitscontext" id="user-content-bitscontext"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">在所有一切讨论开始以前，我们需要区分清楚两个概念：01 排列和编码解码方式。</p>
<p dir="auto">单单从计算机硬件角度看，硬件中的 01 排列是没有意义的，它们只是单纯的 0 和 1。同样，硬件对 01 排列进行的一系列运算也是没有意义的，硬件只是根据数字电路的设计机械地对输入的 01 排列进行处理，最后输出另一串 01 排列。</p>
<p dir="auto">01 排列的意义是由人类赋予的，准确来说，是编码解码方式赋予的。编码解码方式规定了人类在看到一串特定的 01 排列后，该用怎么样的方式进行理解。</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto" tabindex="-1">Unsigned Numbers</h2><a aria-label="Permalink: Unsigned Numbers" class="anchor" href="#unsigned-numbers" id="user-content-unsigned-numbers"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">面对一堆 0 和 1，最自然的解码方式就是把这些 0 和 1 当作一个正常的二进制数（Binary Number）。比如看到 01 排列 <code>0101</code>，我们会自然地将其当成二进制数 0101。</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto" tabindex="-1">Addition</h3><a aria-label="Permalink: Addition" class="anchor" href="#addition" id="user-content-addition"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">当我们想相加两个数字 0001 和 1001 的时候，我们很自然会使用二进制加法：</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="  1
0001
1001
----
1010"><pre class="notranslate"><code>  1
0001
1001
----
1010
</code></pre></div>
<p dir="auto">这样的二进制加法在计算机中是使用数字电路实现的。这样进行二进制加法的数字电路叫做加法器。</p>
<ul dir="auto">
<li>
<p dir="auto">加法器不关心解码方式</p>
<p dir="auto">需要注意的是，加法器并不关心两个输入的 01 排列使用的解码方式。加法器只是机械地对输入的 01 进行操作，最后得到输出的 01 结果。</p>
<p dir="auto">当然，我们人类是关心 01 排列的含义的。当我们人类使用 Unsigned Number 这种编码解码方式来看待加法器的操作时，我们会把 <code>0001</code> <code>1001</code> <code>1010</code> 排列理解为数字 0001 1001 1010。</p>
</li>
<li>
<p dir="auto">溢出（Overflow）</p>
<p dir="auto">计算机硬件一般使用有限的空间存储 01 排列。比如一台计算机只能一次存储 4 个 0 或 1，这时如果我们将 01 排列 <code>1000</code> <code>1000</code> 输入加法器，加法器只能输出 01 排列 <code>0000</code>，第 4 位（从第 0 位开始）的 1 因为存不下，所以被丢掉了。这样的现象叫做溢出（Overflow）。</p>
<p dir="auto">需要注意的是，本来的运算结果是数字 1 0000，现在只能得到数字 0000，这样的溢出很明显产生了<strong>错误</strong>的运算结果。</p>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto" tabindex="-1">Drawback</h3><a aria-label="Permalink: Drawback" class="anchor" href="#drawback" id="user-content-drawback"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">我们很快会发现，这样的编码方式只能对正数进行编码，不能对负数进行编码。</p>
<p dir="auto">为了表示负数，我们需要用一种方式在 01 的排列中表示出正负。</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto" tabindex="-1">Sign/Magnitude Numbers</h2><a aria-label="Permalink: Sign/Magnitude Numbers" class="anchor" href="#signmagnitude-numbers" id="user-content-signmagnitude-numbers"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">正负是 2 种状态，一位 0 和 1 也是 2 种状态。所以我们可以在 01 排列中用一位表示正负信息，用剩余的 01 排列表示绝对值大小。比如规定最高位表示正负信息，0 表示正，1 表示负，剩下的几位表示绝对值。这就是 Sign/Magnitude 编码方式。</p>
<p dir="auto">用这种编码方式，-1 将被表示为 <code>1001</code>，1 将被表示为 <code>0001</code>，非常直观。</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto" tabindex="-1">Drawback</h3><a aria-label="Permalink: Drawback" class="anchor" href="#drawback-1" id="user-content-drawback-1"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">但是这种编码方式有几个问题：</p>
<ul dir="auto">
<li>
<p dir="auto">正 0 和 负 0</p>
<p dir="auto">根据这种编码方式，<code>0000</code> 表示正 0，<code>1000</code> 表示负 0。但是整数里只有一个整数 0。一个整数存在两种编码，在进行计算时可能会带来不必要的麻烦。</p>
</li>
<li>
<p dir="auto">不适用加法器</p>
<p dir="auto">加法器对 Unsigned Number 编码解码方式是适用的，我们希望对 Sign/Magnitude 编码解码方式也适用，因为这样就可以复用加法器，而不需要再重新设计一套数字电路。</p>
<p dir="auto">假设我们现在将 -1 加上 1。它们的二进制表示分别为 <code>1001</code> 和 <code>0001</code>。将这两个 01 排列输入加法器，加法器输出的 01 排列是 <code>1002</code>。使用 Sign/Magnitude 解码方式，得到数字 -2。很明显，加法器不适用 Sign/Magnitude。</p>
<p dir="auto">所以我们如果要采用 Sign/Magnitude，我们必须重新设计一套数字电路来进行加法操作。</p>
<p dir="auto">实际上，我们可以思考一下需要的加法数字电路的特点：</p>
<p dir="auto">如果 01 排列的最高位相同，就把它们的其余位相加，最高位不变。其余位相加，同样可能产生溢出；</p>
<p dir="auto">如果 01 排列的最高位不同，首先比较它们的其余位谁大，然后用大数减小数，结果的最高位和大数相同。</p>
<p dir="auto">我们也可以思考一下需要的减法数字电路的特点：</p>
<p dir="auto">假设排列 <code>aaaa</code> 要减去 <code>bbbb</code>，我们可以将 <code>bbbb</code> 的最高位取反得到<code>b'bbb</code>。这样我们就可以将 <code>aaaa</code> 和 <code>b'bbb</code> 输入上面所说的加法数字电路。所以实际上，减法可以复用上面说的加法数字电路。</p>
<p dir="auto">但是，这样一套加法数字电路仍然非常复杂，尤其是中间还涉及到大数减去小数的<strong>减法</strong>。计算机科学中一个非常重要的思想就是「复用」。在这里，我们同样希望适用于 Unsigned Number 的加法器可以适用于 Sign/Magnitude，但经过上面的讨论，答案是不适用。</p>
<p dir="auto">我们可以尝试一下，看看能不能找到一种编码解码方式，它既可以表示负数，又可以适用加法器。</p>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto" tabindex="-1">Ones' Complement</h2><a aria-label="Permalink: Ones' Complement" class="anchor" href="#ones-complement" id="user-content-ones-complement"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto" tabindex="-1">两个例子</h3><a aria-label="Permalink: 两个例子" class="anchor" href="#两个例子" id="user-content-两个例子"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>
<p dir="auto">正数加负数等于正数</p>
<p dir="auto">我们先观察一个正数加负数结果为正数的例子，也就是被减数大于减数。我们可以尝试做变换，使减法变成加法。比较有用的变换是下面这种：</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="0001 0000 - 0000 0100 =
0001 0000 + (1111 1111 - 0000 0100) - 1 0000 0000 + 1"><pre class="notranslate"><code>0001 0000 - 0000 0100 =
0001 0000 + (1111 1111 - 0000 0100) - 1 0000 0000 + 1
</code></pre></div>
<p dir="auto">这样的变换是绝对成立的，它只是先加上 1111 1111，然后把这个加上的 1111 1111 通过减 1 0000 0000 加 1 的方式减去。</p>
<p dir="auto">我们可以看到 <code>0001 0000 + (1111 1111 - 0000 0100)</code> 绝对要进位，因为被减数大于减数。而这个进的位正好可以用 1 0000 0000 减掉。最后面还有个 +1，我们就可以说把这个进位放到最低位上。</p>
<p dir="auto">总结起来，如果一个正数加负数结果为正数，那么我们可以给负数做 <code>1111 1111 - 负数绝对值</code> 这样的变换。这个变换同样可以通过对负数绝对值每一位取反得到。变换好了以后，正数和负数的变换相加，然后在最低位加 1 就能得到结果。可以看到，每一步都<strong>没有用到减法</strong>。</p>
</li>
<li>
<p dir="auto">正数加负数等于负数</p>
<p dir="auto">现在我们试试正数加负数结果为负数的例子，也就是被减数小于减数。我们同样给负数（减数）进行上面的变换，看看能得到什么。</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="0000 0100 - 0000 1000 =
0000 0100 + (1111 1111 - 0000 1000) - 1 0000 0000 + 1 = 结果
0000 0100 + (1111 1111 - 0000 1000) = 1111 1111 + 结果"><pre class="notranslate"><code>0000 0100 - 0000 1000 =
0000 0100 + (1111 1111 - 0000 1000) - 1 0000 0000 + 1 = 结果
0000 0100 + (1111 1111 - 0000 1000) = 1111 1111 + 结果
</code></pre></div>
<p dir="auto">我们知道，结果肯定是负数。而 <code>1111 1111 + 结果</code> 就是上面提到的变换。</p>
<p dir="auto">所以，在正数加负数结果为负数的例子中，我们也可以对负数（减数）进行变换。正数和负数（减数）的变换相加以后就是结果的变换。</p>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto" tabindex="-1">由变换得到编码方式</h3><a aria-label="Permalink: 由变换得到编码方式" class="anchor" href="#由变换得到编码方式" id="user-content-由变换得到编码方式"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>
<p dir="auto">具体编码方式</p>
<p dir="auto">我们可以看到上面提到的这个 <code>1111 1111 - 负数绝对值</code> 变换对负数非常有用。根据上面提到的两个例子，我们可以定义这样的编码方式：</p>
<p dir="auto">正数使用 Unsigned Number 方式进行编码，负数使用 <code>1111 1111 - 负数绝对值</code> 的方式进行编码。</p>
</li>
<li>
<p dir="auto">Ones' Complement 撇号位置</p>
<p dir="auto">因为对负数编码时需要多个 1 作被减数，所以这种编码方式叫做 Ones' Complement，而不是 One's Complement。</p>
</li>
<li>
<p dir="auto">实际不用减法，用取反</p>
<p dir="auto">另外我们可以发现，<code>1111 1111 - aaaa aaaa</code> 和 <code>aaaa aaaa</code> 每一位取反结果是一样的。为了不使用另外的减法电路，该编码方式通常通过每一位取反完成。</p>
</li>
<li>
<p dir="auto">验证 Ones' Complement 是否适用于加法器</p>
<p dir="auto">我们重新验证一下上面两个例子。</p>
<p dir="auto">在例子 1 中，0001 0000 要加 - 0000 0100，它们的 Ones' Complement 编码为 <code>0001 0000</code> <code>1111 1011</code>。这两个 01 排列输入加法器，最高位肯定会进位，加法器会输出 01 排列 <code>1 0000 1011</code>。加法器的输出还需要去掉 <code>1 0000 0000</code>，再加上 1，得到 01 排列 <code>0000 1100</code>，根据 Ones' Complement 方式进行解码，得到结果 0000 1100，正确。</p>
<p dir="auto">例子 2 中，0000 0100 要加 - 0000 1000，它们的 Ones' Complement 编码为 <code>0000 0100</code> <code>1111 0111</code>。这两个 01 排列输入加法器，最高位肯定不会进位，加法器会输出 01 排列 <code>1111 1011</code>。根据 Ones' Complement 方式进行解码，得到结果 - 0000 0100，正确。</p>
</li>
<li>
<p dir="auto">对加法器的输出处理</p>
<p dir="auto">总结一下，两个 Ones' Complement 编码的 01 排列输入加法器，如果加法器的最高位有进位，那么要把这个进位去掉，然后加上 1，得到的 01 排列用 Ones' Complement 方式解码；如果加法器的最高位没有进位，那么输出的 01 排列可以直接用 Ones' Complement 方式解码。</p>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto" tabindex="-1">取值范围</h3><a aria-label="Permalink: 取值范围" class="anchor" href="#取值范围" id="user-content-取值范围"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">我们限定 01 排列是 8 位的，那么 -0 的编码就是 <code>1111 1111</code>，-1 的编码就是 <code>1111 1110</code>，-127 是 <code>1000 0000</code>，-128 是 <code>0111 1111</code>；+127 是 <code>0111 1111</code>，+128 是 <code>1000 0000</code>。可以看到，产生了重复。为了根据最高位判断符号，所以 8 位 01 排列用这种解码方式取值范围是 -127～+127。</p>
<p dir="auto">另外主要注意，0 有两种表示方法。</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto" tabindex="-1">另外三种情况</h3><a aria-label="Permalink: 另外三种情况" class="anchor" href="#另外三种情况" id="user-content-另外三种情况"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">上面的两个例子中，我们已经讨论了正加负等于正，以及正加负等于负这两种情况，整数相加还有下面三种情况：</p>
<ul dir="auto">
<li>
<p dir="auto">正数加正数等于正数</p>
<p dir="auto">这种情况没什么好讨论的，需要注意的是可能会产生溢出。</p>
</li>
<li>
<p dir="auto">负数加负数等于负数</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="- 0000 1000 - 0000 0100 = 结果
(1111 1111 - 0000 1000) + (1111 1111 - 0000 0100) = 1111 1111 + 结果 + 1 0000 0000 - 1
(1111 1111 - 0000 1000) + (1111 1111 - 0000 0100) - 1 0000 0000 + 1 = 1111 1111 + 结果"><pre class="notranslate"><code>- 0000 1000 - 0000 0100 = 结果
(1111 1111 - 0000 1000) + (1111 1111 - 0000 0100) = 1111 1111 + 结果 + 1 0000 0000 - 1
(1111 1111 - 0000 1000) + (1111 1111 - 0000 0100) - 1 0000 0000 + 1 = 1111 1111 + 结果
</code></pre></div>
<p dir="auto">上面例子中，- 0000 1000 要加 - 0000 0100，它们的 Ones' Complement 编码为 <code>1111 0111</code> <code>1111 1011</code>。这两个 01 排列输入加法器，最高位肯定会进位。因为 <code>1111 1111 - 负数1绝对值 + 1111 1111 - 负数2绝对值</code> 进位的条件是，两个负数绝对值加起来小于等于 1111 1110，即 254，而任何一个负数的绝对值小于等于 127，满足条件。</p>
<p dir="auto">加法器会输出 01 排列 <code>1 1111 0010</code>。加法器的输出还需要去掉 <code>1 0000 0000</code>，再加上 1，得到 01 排列 <code>1111 0011</code>，根据 Ones' Complement 方式进行解码，得到结果 - 0000 1100，正确。</p>
<p dir="auto">同样，这种情况可能也会产生溢出。</p>
</li>
<li>
<p dir="auto">正数加负数等于 0</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="0000 1000 - 0000 1000 = 结果
0000 1000 + (1111 1111 - 0000 1000) - 1 0000 0000 + 1 = 结果
0000 1000 + (1111 1111 - 0000 1000) = 1111 1111 + 结果"><pre class="notranslate"><code>0000 1000 - 0000 1000 = 结果
0000 1000 + (1111 1111 - 0000 1000) - 1 0000 0000 + 1 = 结果
0000 1000 + (1111 1111 - 0000 1000) = 1111 1111 + 结果
</code></pre></div>
<p dir="auto">0000 1000 编码为 <code>0000 1000</code>，- 0000 1000 编码为 <code>1111 0111</code>。输入加法器，最高位不进位。加法器输出 <code>1111 1111</code>。进行解码，得 -0，正确。</p>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto" tabindex="-1">优点和缺点</h3><a aria-label="Permalink: 优点和缺点" class="anchor" href="#优点和缺点" id="user-content-优点和缺点"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">如果使用 Ones' Complement 编码解码方式，进行加法和减法都只需要加法器和取反器，相比 Sign/Magnitude 简单了太多。另外，Ones' Complement 也可以通过最高位判断正负。</p>
<p dir="auto">但是，Ones' Complement 还是存在正 0 和负 0 的问题。</p>
<p dir="auto">我们可以尝试一下，看看能不能找到一种编码解码方式，能完美解决 Sign/Magnitude 的两个缺点。</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto" tabindex="-1">Two's Complement</h2><a aria-label="Permalink: Two's Complement" class="anchor" href="#twos-complement" id="user-content-twos-complement"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto" tabindex="-1">改进变换方式</h3><a aria-label="Permalink: 改进变换方式" class="anchor" href="#改进变换方式" id="user-content-改进变换方式"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Ones' Complement 编码方式中 0 有两种编码。我们尝试对编码方式进行更改，让 0 只有一种编码。</p>
<p dir="auto">我们可以对负数绝对值取反后再加一个 1，这样 -0 的 Ones' Complement 编码 1111 1111 就变成 0000 0000 了。+0 的编码还是 0000 0000。整数 0 就只有一种编码了。</p>
<p dir="auto">接下来，我们先用这种变换方式尝试一下常见的整数运算情况。</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto" tabindex="-1">两个例子</h3><a aria-label="Permalink: 两个例子" class="anchor" href="#两个例子-1" id="user-content-两个例子-1"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>
<p dir="auto">正数加负数等于正数</p>
<p dir="auto">我们观察一个正数加负数结果为正数的例子，也就是被减数大于减数。运算时尽量使用上面提到的变换。</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="0001 0000 - 0000 0100 =
0001 0000 + (1111 1111 - 0000 0100 + 1) - 1 0000 0000 + 1 - 1"><pre class="notranslate"><code>0001 0000 - 0000 0100 =
0001 0000 + (1111 1111 - 0000 0100 + 1) - 1 0000 0000 + 1 - 1
</code></pre></div>
<p dir="auto">我们可以看到 <code>0001 0000 + (1111 1111 - 0000 0100 + 1)</code> 绝对要进位，因为 <code>1111 1111</code> 加 1 肯定会进位，并且被减数大于减数。而这个进的位正好可以用 <code>1 0000 0000</code> 减掉。最后面还有个 <code>+1</code> 和 <code>-1</code> 相互抵消。我们可以说忽略这个进位。</p>
<p dir="auto">总结起来，如果正数加负数结果为正数，那么我们可以给负数做 <code>1111 1111 - 负数绝对值 + 1</code> 这样的变换。变换好了以后，正数和负数的变换相加，进位忽略就可以得到结果。可以看到，每一步都没有用到减法。</p>
</li>
<li>
<p dir="auto">正数加负数等于负数</p>
<p dir="auto">现在我们试试正数加负数结果为负数的例子，也就是被减数小于减数。我们同样给负数（减数）进行上面的变换，看看能得到什么。</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="0000 0100 - 0000 1000 =
0000 0100 + (1111 1111 - 0000 1000 + 1) - 1 0000 0000 + 1 - 1 = 结果
0000 0100 + (1111 1111 - 0000 1000 + 1) = 1111 1111 + 结果 + 1"><pre class="notranslate"><code>0000 0100 - 0000 1000 =
0000 0100 + (1111 1111 - 0000 1000 + 1) - 1 0000 0000 + 1 - 1 = 结果
0000 0100 + (1111 1111 - 0000 1000 + 1) = 1111 1111 + 结果 + 1
</code></pre></div>
<p dir="auto">我们可以看到 <code>0000 0100 + (1111 1111 - 0000 1000 + 1)</code> 绝对不会进位，因为被减数减减数结果肯定小于等于 -1。</p>
<p dir="auto">我们知道，结果肯定是负数。而 <code>1111 1111 + 结果 + 1</code> 就是上面提到的变换。</p>
<p dir="auto">总结起来，在正数加负数结果为负数的例子中，我们也可以对负数（减数）进行变换。正数和负数（减数）的变换相加以后就是结果的变换。</p>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto" tabindex="-1">由变换得到编码方式</h3><a aria-label="Permalink: 由变换得到编码方式" class="anchor" href="#由变换得到编码方式-1" id="user-content-由变换得到编码方式-1"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>
<p dir="auto">具体编码方式</p>
<p dir="auto">我们可以定义这样的编码方式：</p>
<p dir="auto">正数使用 Unsigned Number 方式进行编码，负数使用 <code>1111 1111 - 负数绝对值 + 1</code> 的方式进行编码。</p>
</li>
<li>
<p dir="auto">Two's Complement 撇号位置</p>
<p dir="auto">因为对负数编码时，实际上是 <code>2^n - 负数绝对值</code>，只有一个 2，所以这种编码方式叫做 Two's Complement，而不是 Twos' Complement。</p>
</li>
<li>
<p dir="auto">从负数的编码得到负数绝对值</p>
<p dir="auto">根据 Two's Complement 的定义，我们可以对一个负数的编码减 1，再取反，来得到负数的绝对值。</p>
<p dir="auto">但实际上，根据上面的编码方式，我们还能得到 <code>1111 1111 - 负数编码 + 1 = 负数绝对值</code>。也就是说，对负数编码同样可以先取反，后加 1，得到负数绝对值。</p>
<p dir="auto">负数编码和负数绝对值，可以通过先取反，后加 1 的方式相互转换。</p>
</li>
<li>
<p dir="auto">另一种转换方式</p>
<p dir="auto">从 lsb 开始检查，发现第一个 1，把这个 1 前面直到 msb 的位全部取反。</p>
</li>
<li>
<p dir="auto">验证 Two's Complement 是否适用于加法器</p>
<p dir="auto">我们重新验证一下上面两个例子。</p>
<p dir="auto">在例子 1 中，0001 0000 要加 - 0000 0100，它们的 Two's Complement 编码为 <code>0001 0000</code> <code>1111 1100</code>。这两个 01 排列输入加法器，最高位肯定会进位，加法器会输出 01 排列 <code>1 0000 1100</code>。加法器的输出还需要去掉 <code>1 0000 0000</code>，得到 01 排列 <code>0000 1100</code>，根据 Two's Complement 方式进行解码，得到结果 0000 1100，正确。</p>
<p dir="auto">例子 2 中，0000 0100 要加 - 0000 1000，它们的 Two's Complement 编码为 <code>0000 0100</code> <code>1111 1000</code>。这两个 01 排列输入加法器，最高位肯定不会进位，加法器会输出 01 排列 <code>1111 1100</code>。根据 Two's Complement 方式进行解码，得到结果 - 0000 0100，正确。</p>
</li>
<li>
<p dir="auto">对加法器的输出处理</p>
<p dir="auto">总结一下，两个 Two's Complement 编码的 01 排列输入加法器，如果加法器的最高位有进位，那么无视该进位，得到的 01 排列用 Two's Complement 方式解码；如果加法器的最高位没有进位，那么输出的 01 排列可以直接用 Two's Complement 方式解码。</p>
<p dir="auto">需要注意的是，Unsigned Number 编码输入加法器，如果加法器的最高位有进位，这个进位是不能被保存到结果里的，那么得到的结果是<strong>错误</strong>的，这叫溢出。</p>
<p dir="auto">Two's Complement 编码输入加法器，如果加法器的最高位有进位，这个进位同样不能被保存到结果里，但是经过上面的讨论，我们知道得到的结果是<strong>正确</strong>的。</p>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto" tabindex="-1">取值范围</h3><a aria-label="Permalink: 取值范围" class="anchor" href="#取值范围-1" id="user-content-取值范围-1"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">-1 是 1111 1111，-127 是 1000 0001，-128 是 1000 0000，-129 是 0111 1111。</p>
<p dir="auto">+1 是 0000 0001，+127 是 0111 1111，+128 是 1000 0000。</p>
<p dir="auto">为了保证负数最高位是 1，取值范围为 -128～+127。</p>
<p dir="auto">另外需要注意，整数 0 的编码只有 0000 0000。</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto" tabindex="-1">另外三种情况</h3><a aria-label="Permalink: 另外三种情况" class="anchor" href="#另外三种情况-1" id="user-content-另外三种情况-1"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">上面的两个例子中，我们已经讨论了正加负等于正，以及正加负等于负这两种情况，整数相加还有下面三种情况：</p>
<ul dir="auto">
<li>
<p dir="auto">正数加正数等于正数</p>
<p dir="auto">这种情况没什么好讨论的，需要注意的是可能会产生溢出。</p>
</li>
<li>
<p dir="auto">负数加负数等于负数</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="- 0000 0100 - 0000 0100 = 结果
(1111 1111 - 0000 0100 + 1) + (1111 1111 - 0000 0100 + 1) = 1111 1111 + 1111 1111 + 1 + 1 + 结果
(1111 1111 - 0000 0100 + 1) + (1111 1111 - 0000 0100 + 1) = 1111 1111 + 1 + 结果 + 1 0000 0000
(1111 1111 - 0000 0100 + 1) + (1111 1111 - 0000 0100 + 1) - 1 0000 0000 = 1111 + 结果 + 1"><pre class="notranslate"><code>- 0000 0100 - 0000 0100 = 结果
(1111 1111 - 0000 0100 + 1) + (1111 1111 - 0000 0100 + 1) = 1111 1111 + 1111 1111 + 1 + 1 + 结果
(1111 1111 - 0000 0100 + 1) + (1111 1111 - 0000 0100 + 1) = 1111 1111 + 1 + 结果 + 1 0000 0000
(1111 1111 - 0000 0100 + 1) + (1111 1111 - 0000 0100 + 1) - 1 0000 0000 = 1111 + 结果 + 1
</code></pre></div>
<p dir="auto">上面例子中，- 0000 0100 要加 - 0000 0100，它们的 Two's Complement 编码为 <code>1111 1100</code> <code>1111 1100</code>。这两个 01 排列输入加法器，最高位肯定会进位。因为 <code>1111 1111 - 负数1绝对值 + 1 + 1111 1111 - 负数2绝对值 + 1</code> 的取值范围是 <code>[1 0000 0000, 1 1111 1110]</code>。</p>
<p dir="auto">加法器会输出 01 排列 <code>1 1111 1000</code>。加法器的输出还需要去掉 <code>1 0000 0000</code>，得到 01 排列 <code>1111 1000</code>，根据 Two's Complement 方式进行解码，得到结果 - 0000 1000，正确。</p>
<p dir="auto">同样，这种情况可能也会产生溢出。</p>
</li>
<li>
<p dir="auto">正数加负数等于 0</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="0001 0000 - 0001 0000 =
0001 0000 + (1111 1111 - 0001 0000 + 1) - 1 0000 0000 + 1 - 1"><pre class="notranslate"><code>0001 0000 - 0001 0000 =
0001 0000 + (1111 1111 - 0001 0000 + 1) - 1 0000 0000 + 1 - 1
</code></pre></div>
<p dir="auto"><code>0001 0000</code> 编码为 <code>0001 0000</code>，- 0001 0000 编码为 <code>1111 0000</code>。输入加法器，最高位一定进位。加法器输出 <code>1 0000 0000</code>，去掉 <code>1 0000 0000</code>，得到排列 <code>0000 0000</code>。根据 Two's Complement 方式进行解码，得到结果 0000 0000，正确。</p>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto" tabindex="-1">0 参与运算</h3><a aria-label="Permalink: 0 参与运算" class="anchor" href="#0-参与运算" id="user-content-0-参与运算"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">上面已经说明，0 的 Two's Complement 编码是 0000 0000。用这个编码输入加法器，0 加 0，0 加负数，0 加正数都不需要进行讨论。</p>
<p dir="auto">但是 0 的编码实际上是 <code>1111 1111 - 0000 0000 + 1</code> 得来的，我们下面讨论一下这种编码方式的 0 参与运算的情况：</p>
<ul dir="auto">
<li>
<p dir="auto">-0 加正数</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="- 0000 0000 + 0000 1000 =
(1111 1111 - 0000 0000 + 1) + 0000 1000 - 1 0000 0000"><pre class="notranslate"><code>- 0000 0000 + 0000 1000 =
(1111 1111 - 0000 0000 + 1) + 0000 1000 - 1 0000 0000
</code></pre></div>
<p dir="auto">-0 和正数的 Two's Complement 输入加法器，最高位必定进位，不用管。</p>
</li>
<li>
<p dir="auto">-0 加负数</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="- 0000 0000 - 0000 1000 = 结果
(1111 1111 - 0000 0000 + 1) + (1111 1111 - 0000 1000 + 1) - 1 0000 0000 = 1111 1111 + 结果 + 1"><pre class="notranslate"><code>- 0000 0000 - 0000 1000 = 结果
(1111 1111 - 0000 0000 + 1) + (1111 1111 - 0000 1000 + 1) - 1 0000 0000 = 1111 1111 + 结果 + 1
</code></pre></div>
<p dir="auto">前面两个括号相加取值范围是 <code>[1 1000 0000, 1 1111 1111]</code>，最高位必定进位。</p>
<p dir="auto">-0 和负数的 Two's Complement 输入加法器，最高位必定进位，不用管。加法器输出就是结果的 Two's Complement 编码。</p>
</li>
<li>
<p dir="auto">-0 加 -0</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="- 0000 0000 - 0000 0000 = - 0000 0000
(1111 1111 - 0000 0000 + 1) + (1111 1111 - 0000 0000 + 1) - 1 0000 0000 = 1111 1111 - 0000 0000 + 1"><pre class="notranslate"><code>- 0000 0000 - 0000 0000 = - 0000 0000
(1111 1111 - 0000 0000 + 1) + (1111 1111 - 0000 0000 + 1) - 1 0000 0000 = 1111 1111 - 0000 0000 + 1
</code></pre></div>
<p dir="auto">这种情况我解释不来。</p>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto" tabindex="-1">溢出</h3><a aria-label="Permalink: 溢出" class="anchor" href="#溢出" id="user-content-溢出"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">当加法器的输出对应的数字解码后<strong>不符合</strong>计算结果时，就是溢出。</p>
<ul dir="auto">
<li>
<p dir="auto">不会出现溢出的情况</p>
<p dir="auto">一个正数加一个负数绝对不可能溢出。比如整数用 8 位存储，整数的取值范围是 -128~127。一个正数加一个负数的取值范围是 <code>[1-128, 127-1]</code>，结果可以被表示。</p>
</li>
<li>
<p dir="auto">可能出现溢出的情况</p>
<p dir="auto">正数加正数，负数加负数，都可能会溢出。</p>
<p dir="auto">正数加正数，它们的 01 排列都是 <code>0xxx xxxx</code>，加法器如果输出 <code>1xxx xxxx</code>，按照 Two's Complement 解码，得到的是负数，这很明显是错的，即发生了溢出。</p>
<p dir="auto">两个正数相加，最高位不可能进位，因为两个正数和的最大值就是 <code>1111 1110</code>。</p>
<p dir="auto">负数加负数，它们的 01 排列都是 <code>1xxx xxxx</code>，加法器如果输出 <code>0xxx xxxx</code>，按照 Two's Complement 解码，得到的是正数，这很明显是错的，即发生了溢出。</p>
<p dir="auto">需要注意的是，两个负数的 01 排列相加，最高位肯定会进位，这个上面已经讨论过了，直接忽略就可以。</p>
<p dir="auto">总结起来，如果两个数字符号相同，结果数字的符号却不一样，那么就发生了溢出。</p>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto" tabindex="-1">优点</h3><a aria-label="Permalink: 优点" class="anchor" href="#优点" id="user-content-优点"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">通过上面的讨论，我们可以看到 Two's Complement 方式完美解决了 Sign/Magnitude 的两个缺点。而 Two's Complement 也是所有现代计算机编码有符号数的方式。</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto" tabindex="-1">从源代码的加减到加法器</h2><a aria-label="Permalink: 从源代码的加减到加法器" class="anchor" href="#从源代码的加减到加法器" id="user-content-从源代码的加减到加法器"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">我们可以思考一下，运算操作最初的呈现形式是怎么样的。</p>
<p dir="auto">最开始，一个程序员在源代码中，通过各种途径（初始化、计算、外界输入等）把两个值放在两个变量里，并对这两个变量进行加法或者减法，结果放在另一个变量里。即 <code>c = a +/- b;</code>。很明显，a 和 b 是有类型的，它们的类型规定了它们的大小和是否带符号。而通过类型大小和是否带符号，我们可以得到 a 和 b 的取值范围。</p>
<p dir="auto">接下来，源代码会转化为汇编代码。<code>c = a + b</code> 会变成 <code>add rc, ra, rb</code>，<code>c = a - b</code> 会变成 <code>sub rc, ra, rb</code>。值得注意的是，如果变量 a 或 b 的类型是 signed，那么寄存器 ra 或 rb 的二进制是变量 a b 值的 two's complement 编码。如果变量 a 或 b 的类型是 unsigned，那么寄存器 ra 或 rb 的二进制是变量 a b 值的 unsigned 编码。</p>
<p dir="auto">所以，如果变量 a b 是 signed，它们对应的加减汇编指令一共有这些情况：add 正 正；add 正 负；add 负 正；add 负 负；sub 正 正；sub 正 负；sub 负 正；sub 负 负。</p>
<p dir="auto">如果变量 a b 是 unsigned，它们对应的加减汇编指令一共有这些情况：add rc, ra, rb；sub rc, ra, rb。</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto" tabindex="-1">signed 操作</h3><a aria-label="Permalink: signed 操作" class="anchor" href="#signed-操作" id="user-content-signed-操作"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">先看 signed，我们已经讨论过加法的三种情况，现在讨论减法的四种情况。</p>
<ul dir="auto">
<li>
<p dir="auto">正数减正数（正数加负数）</p>
<p dir="auto">比如，现在有 c = 2 - 1，它的汇编指令为 sub rc, 0x0010, 0x0001。我们最后喂给加法器的 01 排列肯定一个要表示 2（即 0x0010)，一个要表示 -1（即 0x1111）。现在问题来了，如何通过 1 的编码 0x0001，获得 -1 的编码 0x1111？即如何通过负数绝对值的编码获得负数的编码？</p>
<p dir="auto">我们在上面讨论过，<strong>负数的编码和它绝对值的编码是可以通过取反再加一相互转换的</strong>。所以，ALU 在获取 0x0001 以后，也是先进行取反，然后加 1，最后和 0x0010 一起送入加法器。正数减正数的操作就被转化为正数加负数了。</p>
<ul dir="auto">
<li>
<p dir="auto">转化为正数加负数，不溢出</p>
<p dir="auto">至于正数加负数的情况已经讨论过了，不再赘述。正数加负数也不会溢出。</p>
<p dir="auto">注意，由负数绝对值编码获得负数编码不会出现问题。比如 4 个 bit，如果用 two's complement 理解，获得的值的范围是 -8~7。正数 1 到 7，都有对应的负数。</p>
</li>
</ul>
</li>
<li>
<p dir="auto">正数减负数（正数加正数）</p>
<p dir="auto">比如，现在有 c = 2 - (-1)，它的汇编指令为 sub rc, 0x0010, 0x1111。我们最后喂给加法器的 01 排列肯定一个要表示 2（即 0x0010)，一个要表示 1（即 0x0001）。现在问题来了，如何通过 -1 的编码 0x1111，获得 1 的编码 0x0001？即如何通过负数的编码获得它绝对值的编码？</p>
<p dir="auto">我们在上面讨论过，<strong>负数的编码和它绝对值的编码是可以通过取反再加一相互转换的</strong>。所以，ALU 在获取 0x1111 以后，也是先进行取反，然后加 1，最后和 0x0010 一起送入加法器。正数减负数的操作就被转化为正数加正数了。</p>
<ul dir="auto">
<li>
<p dir="auto">转化为正数加正数，可能溢出</p>
<p dir="auto">至于正数加正数的情况，已经讨论过了，不再赘述。正数加正数可能会溢出。</p>
</li>
<li>
<p dir="auto">转化为正数加负数，肯定溢出</p>
<p dir="auto">注意，一般情况下，正数减负数是可以转化为正数加正数的。但是，当负数是最小负数的时候，会出问题。比如 4 个 bit，如果用 two's complement 理解，获得的值的范围是 -8~7。-8 没有对应的正数。对 -8 的编码 1000 取反加 1 以后得到的还是 1000。</p>
<p dir="auto">如果一个正数比如 2 要减 -8，那么最后喂到加法器里的是 0x0010 (2) 0x1000 (-8)，加法器得到 0x1010 (-6)，而正确结果是 10。实际上进行的操作是正数加负数。这样肯定是溢出的。</p>
</li>
</ul>
</li>
<li>
<p dir="auto">负数减负数（负数加正数）</p>
<p dir="auto">比如，现在有 c = (-2) - (-1)，它的汇编指令为 sub rc, 0x1110, 0x1111。我们最后喂给加法器的 01 排列肯定一个要表示 -2（即 0x1110)，一个要表示 1（即 0x0001）。</p>
<ul dir="auto">
<li>
<p dir="auto">转化为负数加正数，不溢出</p>
</li>
<li>
<p dir="auto">转化为负数加负数，不溢出</p>
<p dir="auto">注意，一般情况下，负数减负数是可以转化为负数加正数的，负数加正数不会溢出。但是，当减数是最小负数的时候，需要特殊考虑。比如 4 个 bit，如果用 two's complement 理解，获得的值的范围是 -8~7。-8 没有对应的正数。对 -8 的编码 1000 取反加 1 以后得到的还是 1000。</p>
<p dir="auto">比如一个负数 -2 要减 -8，那么最后喂到加法器里的是 0x1110 (-2) 0x1000 (-8)，加法器得到 0x0110 (6)，结果居然是对的，这是为什么？我们知道，如果我们进行的操作是 -2 加 -8，而最后结果是 6，那肯定发生溢出了。其实溢出就是进位没地方存了，如果进位有地方存的话，结果应该是 0x10110 (-10)。因为进位被丢掉了，所以结果被加上了 16，变成 0x0110。而 -2 + -8 加上 16，就是 -2 - (-8)。</p>
</li>
</ul>
</li>
<li>
<p dir="auto">负数减正数（负数加负数）</p>
<p dir="auto">比如，现在有 c = (-2) - 1，它的汇编指令为 sub rc, 0x1110, 0x0001。我们最后喂给加法器的 01 排列肯定一个要表示 -2（即 0x1110)，一个要表示 -1（即 0x1111）。</p>
<ul dir="auto">
<li>
<p dir="auto">转化为负数加负数，可能溢出</p>
<p dir="auto">注意，由负数绝对值编码获得负数编码不会出现问题。比如 4 个 bit，如果用 two's complement 理解，获得的值的范围是 -8~7。正数 1 到 7，都有对应的负数。</p>
<p dir="auto">所以负数减正数都可以转化为负数加负数，另外注意负数加负数可能会溢出。</p>
</li>
</ul>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto" tabindex="-1">unsigned 操作</h3><a aria-label="Permalink: unsigned 操作" class="anchor" href="#unsigned-操作" id="user-content-unsigned-操作"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">然后再来看 unsigned。两个 unsigned 变量的加法很直观，直接喂给加法器就可以。如果加法器有 carry out，那么就有溢出。</p>
<p dir="auto">重点是减法。下面对 unsigned number msb 是否是 1 分四种情况讨论。</p>
<ul dir="auto">
<li>
<p dir="auto">msb 非 1 - msb 非 1（正数减正数，结果正确）</p>
<p dir="auto">这时，可以直接用 two's complement 解码 unsigned number 的 01 排列。</p>
<p dir="auto">比如 0x0010 - 0x0001，最后喂给加法器的是 0x0010，-0x0001（即 0x1111）。</p>
<p dir="auto">再比如 0x0001 -0x0010，最后喂给加法器的是 0x0001，0x1110，加法器输出 0x1111。</p>
<p dir="auto">这种情况相当于正数减正数，结果正确。</p>
</li>
<li>
<p dir="auto">msb 为 1 - msb 为 1（负数减负数，结果正确）</p>
<p dir="auto">比如 10 - 9。它们的 01 排列为 1010 - 1001。</p>
<p dir="auto">如果用 two's complement 理解，则 1010 表示 -0110，即 -6；1001 表示 -0111，即 -7。即 -6 - (-7)。最后输入加法器的 01 排列为 1010、0111，加法器输出 0001，即 1。</p>
<p dir="auto">实际上，我们可以把 01 排列和对应的值列出来：</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>01 排列</th>
<th>two's complement</th>
<th>unsigned</th>
</tr>
</thead>
<tbody>
<tr>
<td>1111</td>
<td>-1</td>
<td>15</td>
</tr>
<tr>
<td>1110</td>
<td>-2</td>
<td>14</td>
</tr>
<tr>
<td>1101</td>
<td>-3</td>
<td>13</td>
</tr>
<tr>
<td>1100</td>
<td>-4</td>
<td>12</td>
</tr>
<tr>
<td>1011</td>
<td>-5</td>
<td>11</td>
</tr>
<tr>
<td>1010</td>
<td>-6</td>
<td>10</td>
</tr>
<tr>
<td>1001</td>
<td>-7</td>
<td>9</td>
</tr>
<tr>
<td>1000</td>
<td>-8</td>
<td>8</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">因为我们只是想要求差值，所以可以把 01 排列用 two's complement 理解。10 - 9 的差值和 -6 - (-7) 是一样的。</p>
<p dir="auto">这种情况相当于负数减负数，结果正确。</p>
</li>
<li>
<p dir="auto">msb 为 1 - msb 非 1（负数减正数，结果正确）</p>
<ul dir="auto">
<li>
<p dir="auto">有溢出，结果按 unsigned two's complement 解读都正确</p>
<p dir="auto">比如 10 - 6。它们的 01 排列为 1010 - 0110。</p>
<p dir="auto">如果用 two's complement 理解，则 1010 表示 -0110，即 -6；0110 表示 6。即 -6 - 6。最后输入加法器的 01 排列为 1010、1010，加法器输出 0100，即 4。可以看到，-6 - 6 应该等于 -12，但是加法器的结果是 4，很明显发生了溢出。但是 10 - 6 确实等于 4。这是为什么呢？</p>
<p dir="auto">其实溢出就是存储数字的空间不够了，如果多一位来存储数字，那么加法器应该输出 10100，即 -12。但是因为少了一位，所以结果加上了 16，而 10 和 -6、11 和 -5 的差值也是 16。所以结果正确。</p>
</li>
<li>
<p dir="auto">无溢出，结果按 unsigned 解读正确</p>
<p dir="auto">上面的例子出现了溢出，我们来看一个没有溢出的例子。比如 14 - 3。它们的 01 排列为 1110 - 0011。如果用 two's complement 理解，即 -2 - 3。最后输入加法器的 01 排列为 1110 1101，加法器输出 1011，即 -5。如果用 unsigned 理解，即 14 - 3，最后结果 1011 就是 11。</p>
<p dir="auto">因为这次没有溢出，所以用 two's complement 理解，运算是正确的。即加法器可以得到 -2 - 3 = -5。我们在两边都加上 16，即 14 - 3 = 11。</p>
</li>
</ul>
</li>
<li>
<p dir="auto">msb 非 1 - msb 为 1（正数减负数）</p>
<ul dir="auto">
<li>
<p dir="auto">被减数为 1000（结果按 two's complement 解读正确）</p>
<p dir="auto">首先看被减数为 1000。比如 0110 - 1000。用 unsigned 理解是 6 - 8，用 two's complement 理解是 6 - (-8)，喂给加法器的 01 排列是 0110 1000，加法器输出 1110。</p>
<p dir="auto">实际上，加法器进行的操作就是 6 + (-8)，输出的结果也是 6 + (-8) 的。被减数为 1000 时，运算结果正确。</p>
</li>
<li>
<p dir="auto">被减数为其他，产生溢出（结果按 two's complement 解读正确）</p>
<p dir="auto">当被减数是其他 msb 为 1 的 01 排列时。比如 0110 - 1011。用 unsigned 理解是 6 - 11，用 two's complement 理解是 6 - (-5)。喂给加法器的 01 排列是 0110 0101，加法器输出 1011。</p>
<p dir="auto">用 two's complement 理解 6 - (-5) = -5，这肯定是不对的；但是用 unsigned 理解，6 - 11 = -5。因为计算产生了溢出，本来的结果 01011 的 0 被丢掉了，结果被减掉了 16。而 11 和 -5 也是差 16。</p>
</li>
<li>
<p dir="auto">被减数为其他，不产生溢出（结果怎么解读都不正确）</p>
<p dir="auto">当被减数是其他 msb 为 1 的 01 排列时。比如 0010 - 1101。用 unsigned 理解是 2 - 13，用 two's complement 理解是 2 - (-3)。喂给加法器的 01 排列是 0010 0011，加法器输出 0101。</p>
<p dir="auto">用 two's complement 理解，2 - (-3) = 5。用 unsigned 理解，2 - 13 = 5，结果明显不对。</p>
</li>
</ul>
</li>
</ul>
</article></div>


<ghcc-consent class="position-fixed bottom-0 left-0" data-cookie-consent-required="false" data-initial-cookie-consent-allowed="" id="ghcc" style="z-index: 999999"></ghcc-consent>
<div class="ajax-error-message flash flash-error" hidden="" id="ajax-error-message">
<svg aria-hidden="true" class="octicon octicon-alert" data-view-component="true" height="16" version="1.1" viewbox="0 0 16 16" width="16">
<path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
<button aria-label="Dismiss error" class="flash-close js-ajax-error-dismiss" type="button">
<svg aria-hidden="true" class="octicon octicon-x" data-view-component="true" height="16" version="1.1" viewbox="0 0 16 16" width="16">
<path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</button>
    You can’t perform that action at this time.
  </div>
<template id="site-details-dialog">
<details class="details-reset details-overlay details-overlay-dark lh-default color-fg-default hx_rsm" open="">
<summary aria-label="Close dialog" role="button"></summary>
<details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast hx_rsm-dialog hx_rsm-modal">
<button aria-label="Close dialog" class="Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0" data-close-dialog="" type="button">
<svg aria-hidden="true" class="octicon octicon-x" data-view-component="true" height="16" version="1.1" viewbox="0 0 16 16" width="16">
<path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</button>
<div class="octocat-spinner my-6 js-details-dialog-spinner"></div>
</details-dialog>
</details>
</template>
<div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;">
<div class="Popover-message Popover-message--bottom-left Popover-message--large Box color-shadow-large" style="width:360px;">
</div>
</div>
<template id="snippet-clipboard-copy-button">
<div class="zeroclipboard-container position-absolute right-0 top-0">
<clipboard-copy aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0" data-copy-feedback="Copied!" data-tooltip-direction="w">
<svg aria-hidden="true" class="octicon octicon-copy js-clipboard-copy-icon m-2" data-view-component="true" height="16" version="1.1" viewbox="0 0 16 16" width="16">
<path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
<svg aria-hidden="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none m-2" data-view-component="true" height="16" version="1.1" viewbox="0 0 16 16" width="16">
<path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
</clipboard-copy>
</div>
</template>
<template id="snippet-clipboard-copy-button-unpositioned">
<div class="zeroclipboard-container">
<clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w">
<svg aria-hidden="true" class="octicon octicon-copy js-clipboard-copy-icon" data-view-component="true" height="16" version="1.1" viewbox="0 0 16 16" width="16">
<path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
<svg aria-hidden="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none" data-view-component="true" height="16" version="1.1" viewbox="0 0 16 16" width="16">
<path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
</clipboard-copy>
</div>
</template>

<div aria-atomic="true" aria-live="polite" class="sr-only mt-n1" id="js-global-screen-reader-notice"></div>
<div aria-atomic="true" aria-live="assertive" class="sr-only mt-n1" id="js-global-screen-reader-notice-assertive"></div>
</body>
</html>
